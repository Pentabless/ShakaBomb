//==============================================================================================
/// File Name	: CheckLowMemory
/// Summary		: メモリ不足を検出する
//==============================================================================================
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System;
using Common;
//==============================================================================================
public class CheckLowMemory : MonoBehaviour
{
    //------------------------------------------------------------------------------------------
    // member variable
    //------------------------------------------------------------------------------------------

    //------------------------------------------------------------------------------------------
    // メモリ不足時に呼び出される
    //------------------------------------------------------------------------------------------
    public static void OnLowMemory()
    {
        // メモリ開放
        Resources.UnloadUnusedAssets();
    }

    //------------------------------------------------------------------------------------------
    // 有効時
    //------------------------------------------------------------------------------------------
    private void OnEnable()
    {
        // コールバック関数追加
        Application.lowMemory += OnLowMemory;
    }

    //------------------------------------------------------------------------------------------
    // 無効時
    //------------------------------------------------------------------------------------------
    private void OnDisable()
    {
        // コールバック関数削除
        Application.lowMemory -= OnLowMemory;
    }
}